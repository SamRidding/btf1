{% load static %}

<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    {% block extra_meta %}
    {% endblock %}

    {% block extra_css %}
    {% endblock %}

    <link rel="stylesheet" href="{% static 'css/base.css' %}">

    <script src="{% static 'fontawesomefree/js/all.min.js' %}"></script>

    {% block extra_script %}
    {% endblock %}

    <title>Back To Front{% block extra_title %}{% endblock %}</title>

</head>

<body>

    <div id="page-load">
        <div class="page-load-logo">
            <h2>BTF</h2>
        </div>
    </div>

    <div id="search">
        <div class="search-bar">
            <input type="text" placeholder="">
            <i id="search-arrow" class="fa-solid fa-arrow-right"></i>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div id="logo">
            <a href="/">
                <h2>BACK TO FRONT</h2>
            </a>
        </div>
        <div id="burger">
            <a href="#" class="burgermenu">
                <i class="fa-solid fa-bars fa-2xl"></i>
            </a>
        </div>
        <div id="navbar-links" class="navbar-links">
            <ul>
                {% if user.is_authenticated %}
                {% if user.is_staff %}
                <li>
                    <a href="{% url 'add_post' %}">
                        <p>Add Post</p>
                    </a>
                </li>
                {% endif %}
                <li>
                    <a href="{% url 'userprofile' %}">
                        <p>Account</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'account_logout' %}">
                        <p>Log Out</p>
                    </a>
                </li>
                {% else %}
                <li>
                    <a href="{% url 'account_login' %}">
                        <p>Log In</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'account_signup' %}">
                        <p>Sign Up</p>
                    </a>
                </li>
                {% endif %}
                <li>
                    <a href="#" id="search-btn">
                        <p><i class="fa-solid fa-magnifying-glass"></i></p>
                    </a>
                </li>
            </ul>
        </div>
    </nav>


    {% if messages %}
    {% for message in messages %}
    <div id="user-msg">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}


    <main>
        {% block content %}
        <!-- Content Goes here -->
        {% endblock content %}
    </main>

    <!-- Footer -->
    <footer>

    </footer>

    <script src="{% static 'js/base.js' %}"></script>

    <script>
        var loader = document.getElementById('page-load');

        window.addEventListener('load', function () {
            loader.style.display = 'none';
        });
    </script>

    {% block extra_js %}
    {% endblock %}
</body>